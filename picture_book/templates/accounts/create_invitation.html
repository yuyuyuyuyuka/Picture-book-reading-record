{% extends "base.html" %}
{% block content %}
<div class="container1">
    <h1>家族招待</h1>
    <a href="{% url 'accounts:mypage' %}" style="text-decoration: none; font-size: 1.2em; display: block; margin-top: 10px; margin-left: 0;">←戻る</a>
    <form method="POST">
        {% csrf_token %}
        <button type="submit">家族招待URLを作成する</button>
    </form>
    {% if invitation_url %}
        <input type="text" value="{{ invitation_url }}" id="invitation_url"readonly>
        <button onclick="copyToClipboard()">コピー</button>
        <script>
            function copyToClipboard() {
                var copyText = document.getElementById("invitation_url");
                copyText.select();
                copyText.setSelectionRange(0, 99999);  
                document.execCommand("copy");
            }
        </script>
        <p>※このリンクを招待したい家族に送ってください。</p>
        <p>※リンクは1度利用されると無効になります。</p>

        <p style="text-align: center;">
            <a href="{% url 'accounts:mypage' %}">マイページへ戻る</a>
        </p>

    {% endif %}
</div>
{% endblock %}